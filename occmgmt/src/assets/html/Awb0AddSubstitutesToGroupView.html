<aw-command-panel caption="i18n.addSubstitute" context="subPanelContext">
    <div class="aw-layout-flexColumn" show-when="data.activeState.value.activeView==='AddObjectPrimarySub'">
        <aw-panel-header-section header-section-label="i18n.toTitle" header-section-element="{{ctx.selected.parentNode.props.object_string.uiValues[0]}}"></aw-panel-header-section>
        <aw-add exist-when="data.preferredBo" include-types="{{data.allowedTypeInfo.objectTypeName}}" load-sub-types="false" auto-select-on-unique-type="true"
            visible-tabs="{{data.allowedTypeInfo.allowedTabs}}" max-recent-count="5" exist-when="data.allowedTypeInfo" type-filter="{{data.allowedTypeInfo.searchTypeName}}"
            selection-mode="{{data.selectionMode.value}}" preferred-type="{{data.preferredBo.type}}" add-panel-state="fields.addPanelState"
            active-state="data.activeState" project-state="data.projectState" sub-panel-context="{ ...subPanelContext, triggerCreate: data.triggerCreate }"
            xrt-state="data.xrtState" edit-handler="editHandlers.addPanelEditHandler">
        </aw-add>
        <aw-panel-footer>
            <aw-button action="createAndSubstitute" visible-when="conditions.shouldShowAddOnNewTab" enable-when="formProp.attributes.valid && conditions.shouldShowAddOnNewTab">
                <aw-i18n>i18n.addElementBtn</aw-i18n>
            </aw-button>
            <aw-button action="processAddSubstitutesInput" visible-when="conditions.shouldbeOnPanelTab || conditions.shouldBeOnSearchTab"
                enable-when="conditions.shouldShowAddOnPaletteTab || conditions.shouldShowAddOnSearchTab">
                <aw-i18n>i18n.addElementBtn</aw-i18n>
            </aw-button>
        </aw-panel-footer>
    </div>
    <aw-add-navigate active-state="data.activeState" project-state="data.projectState" action="actions.setActiveView"></aw-add-navigate>
</aw-command-panel>
